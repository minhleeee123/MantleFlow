# ğŸ“‹ Káº¿ Hoáº¡ch Deploy Chi Tiáº¿t - MantleFlow Platform

## ğŸ“Š Tá»•ng Quan Há»‡ Thá»‘ng

Dá»± Ã¡n **MantleFlow** (hay CryptoInsight AI) bao gá»“m 3 thÃ nh pháº§n chÃ­nh:

| ThÃ nh pháº§n | CÃ´ng nghá»‡ | Ná»n táº£ng Deploy |
|------------|-----------|-----------------|
| **Frontend** | React 19 + Vite | âœ… **Vercel** |
| **Backend** | Node.js + Express + Prisma | âœ… **Railway** |
| **Database** | SQLite (dev) â†’ PostgreSQL (prod) | âœ… **Railway** |
| **Smart Contract** | Solidity (Mantle Sepolia) | âœ… ÄÃ£ deploy |

---

## âœ… Kiá»ƒm Tra Phá»¥ Thuá»™c (Dependencies)

### Frontend Dependencies - Status: âš ï¸ Cáº¦N Cáº¬P NHáº¬T

```
Package        Current    Latest  Status
------------------------------------------------
@google/genai  1.30.0     Latest  âœ… OK
axios          1.13.2     Latest  âœ… OK
ethers         6.13.2     6.16.1  âš ï¸  Minor update available
framer-motion  12.24.8    Latest  âœ… OK
lucide-react   0.554.0    Latest  âœ… OK
react          19.2.0     Latest  âœ… OK
react-dom      19.2.0     Latest  âœ… OK
recharts       3.4.1      Latest  âœ… OK
three          0.181.2    Latest  âœ… OK
@types/node    22.19.3    25.0.3  âš ï¸  Major update (khÃ´ng báº¯t buá»™c)
vite           6.4.1      7.3.1   âš ï¸  Major update (kiá»ƒm tra breaking changes)
typescript     5.8.2      Latest  âœ… OK
```

**Khuyáº¿n nghá»‹**: 
- Dependencies hiá»‡n táº¡i **á»•n Ä‘á»‹nh**, cÃ³ thá»ƒ deploy ngay
- Náº¿u muá»‘n cáº­p nháº­t `vite` lÃªn v7, cáº§n test ká»¹ vÃ¬ cÃ³ breaking changes
- `ethers` v6.13.2 â†’ v6.16.1 lÃ  safe update

### Backend Dependencies - Status: âš ï¸ PRISMA Cáº¦N CHÃš Ã

```
Package         Current   Latest  Status
------------------------------------------------
@prisma/client  5.22.0    7.2.0   âš ï¸  Major update (breaking)
axios           1.7.9     Latest  âœ… OK
bcryptjs        2.4.3     3.0.3   âš ï¸  Major update
cors            2.8.5     Latest  âœ… OK
dotenv          16.4.7    Latest  âœ… OK
ethers          6.13.4    6.16.1  âš ï¸  Minor update
express         4.21.2    Latest  âœ… OK
jsonwebtoken    9.0.2     Latest  âœ… OK
nodemailer      7.0.12    Latest  âœ… OK
prisma          5.22.0    7.2.0   âš ï¸  Major update (breaking)
tsx             4.19.2    Latest  âœ… OK
typescript      5.7.2     Latest  âœ… OK
```

**Khuyáº¿n nghá»‹**:
- **KHÃ”NG nÃªn** cáº­p nháº­t Prisma tá»« v5 â†’ v7 trÆ°á»›c khi deploy (quÃ¡ nhiá»u breaking changes)
- Táº¥t cáº£ dependencies hiá»‡n táº¡i **á»•n Ä‘á»‹nh** Ä‘á»ƒ deploy production
- `bcryptjs` v3 cÃ³ breaking changes, giá»¯ nguyÃªn v2.4.3

### Database - Status: âš ï¸ Cáº¦N MIGRATE

**Hiá»‡n táº¡i**: SQLite (file-based, chá»‰ phÃ¹ há»£p cho dev)
```prisma
datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}
```

**Production**: **PHáº¢I** chuyá»ƒn sang **PostgreSQL** trÃªn Railway

---

## ğŸš€ PHáº¦N 1: Deploy Backend + Database lÃªn Railway

### BÆ°á»›c 1.1: Táº¡o TÃ i Khoáº£n Railway

1. Truy cáº­p [Railway.app](https://railway.app)
2. ÄÄƒng nháº­p báº±ng GitHub
3. Verify email cá»§a báº¡n

### BÆ°á»›c 1.2: Táº¡o Database PostgreSQL

1. VÃ o Railway Dashboard â†’ Click **"New Project"**
2. Click **"Provision PostgreSQL"**
3. Äá»£i Railway táº¡o database (khoáº£ng 30s)
4. Click vÃ o service PostgreSQL â†’ Tab **"Connect"**
5. Copy **"Postgres Connection URL"**:
   ```
   postgresql://postgres:password@host.railway.app:5432/railway
   ```
6. **LÆ¯U Láº I** URL nÃ y (sáº½ dÃ¹ng trong bÆ°á»›c sau)

### BÆ°á»›c 1.3: Chuáº©n Bá»‹ Backend Code

#### 1.3.1: Cáº­p Nháº­t Prisma Schema

Má»Ÿ file [d:\Download\hackathon15-1\backendV3\prisma\schema.prisma](file:///d:/Download/hackathon15-1/backendV3/prisma/schema.prisma)

Äá»•i tá»« `sqlite` sang `postgresql`:

```diff
datasource db {
-  provider = "sqlite"
+  provider = "postgresql"
   url      = env("DATABASE_URL")
}
```

#### 1.3.2: Táº¡o File `.env.production`

Táº¡o file má»›i `d:\Download\hackathon15-1\backendV3\.env.production`:

```env
# Environment
NODE_ENV=production
PORT=8000

# Database - THAY Äá»”I URL NÃ€Y
DATABASE_URL="postgresql://postgres:password@host.railway.app:5432/railway"

# JWT - SINH Má»šI SECRET KEY Máº NH!
JWT_SECRET=sinh-mot-chuoi-random-dai-va-phuc-tap-tai-day

# Blockchain - Mantle Sepolia
MANTLE_RPC_URL=https://rpc.sepolia.mantle.xyz
CHAIN_ID=5003

# Smart Contracts V3 (ÄÃƒ DEPLOY)
VAULT_ADDRESS=0xa9910f0214173814d1571cC64D45F9681a8500B2
DEX_ADDRESS=0x991E5DAB401B44cD5E6C6e5A47F547B17b5bBa5d
USDT_ADDRESS=0xAcab8129E2cE587fD203FD770ec9ECAFA2C88080

# Bot Wallet - THAY Äá»”I PRIVATE KEY Cáº¤N QUAN TRá»ŒNG!
BOT_PRIVATE_KEY=your-real-bot-wallet-private-key-here

# Market Data (Optional)
COINGECKO_API_KEY=
```

> [!CAUTION]
> **Báº®T BUá»˜C THAY Äá»”I**:
> - `DATABASE_URL`: URL PostgreSQL tá»« Railway (bÆ°á»›c 1.2)
> - `JWT_SECRET`: Sinh chuá»—i random máº¡nh (dÃ¹ng: `openssl rand -base64 32`)
> - `BOT_PRIVATE_KEY`: Private key cá»§a bot wallet (VÃ Má»šI, KHÃ”NG DÃ™NG VÃ CHÃNH!)

#### 1.3.3: Kiá»ƒm Tra [package.json](file:///d:/Download/hackathon15-1/frontend/package.json)

Má»Ÿ [d:\Download\hackathon15-1\backendV3\package.json](file:///d:/Download/hackathon15-1/backendV3/package.json)

Äáº£m báº£o cÃ³ cÃ¡c scripts sau:

```json
{
  "scripts": {
    "dev": "tsx watch src/index.ts",
    "build": "tsc",
    "start": "node dist/index.js",
    "prisma:generate": "prisma generate",
    "prisma:push": "prisma db push"
  }
}
```

âœ… **ÄÃ£ cÃ³ Ä‘áº§y Ä‘á»§!**

### BÆ°á»›c 1.4: Deploy Backend lÃªn Railway

#### Option A: Deploy qua GitHub (KHUYáº¾N NGHá»Š)

1. **Push code lÃªn GitHub**:
   ```bash
   cd d:\Download\hackathon15-1
   git add .
   git commit -m "Prepare for Railway deployment"
   git push origin main
   ```

2. **Táº¡o Service trÃªn Railway**:
   - VÃ o Railway Dashboard â†’ Click project Ä‘Ã£ táº¡o
   - Click **"New Service"** â†’ **"GitHub Repo"**
   - Chá»n repository [hackathon15-1](file:///d:/Download/hackathon15-1)
   - Railway sáº½ tá»± detect vÃ  deploy

3. **Cáº¥u hÃ¬nh Environment Variables**:
   - Click vÃ o service backend â†’ Tab **"Variables"**
   - Click **"Raw Editor"** â†’ Paste toÃ n bá»™ ná»™i dung tá»« `.env.production`
   - Click **"Save"**

4. **Cáº¥u hÃ¬nh Build Settings**:
   - Tab **"Settings"** â†’ **"Build"**
   - **Root Directory**: `backendV3`
   - **Build Command**: `npm run build && npx prisma generate`
   - **Start Command**: `npx prisma db push --accept-data-loss && npm start`
   - **Watch Paths**: `backendV3/**`

5. **ThÃªm Health Check** (optional):
   - Tab **"Settings"** â†’ **"Health Check"**
   - **Path**: `/api/health` (náº¿u cÃ³)

#### Option B: Deploy qua Railway CLI

```bash
# CÃ i Railway CLI
npm install -g @railway/cli

# Login
railway login

# Link project
cd d:\Download\hackathon15-1\backendV3
railway link

# Deploy
railway up
```

### BÆ°á»›c 1.5: Kiá»ƒm Tra Deployment

1. **Xem Logs**:
   - Railway Dashboard â†’ Service backend â†’ Tab **"Deployments"**
   - Click vÃ o deployment má»›i nháº¥t â†’ Xem logs

2. **Láº¥y URL Backend**:
   - Tab **"Settings"** â†’ **"Domains"**
   - Click **"Generate Domain"**
   - URL sáº½ dáº¡ng: `https://backendv3-production-xxxx.up.railway.app`
   - **LÆ¯U Láº I** URL nÃ y cho frontend

3. **Test API**:
   ```bash
   # Test health check
   curl https://your-backend-url.railway.app/api/health
   
   # Test market endpoint
   curl https://your-backend-url.railway.app/api/market/price/BTC
   ```

> [!IMPORTANT]
> **Logs cáº§n kiá»ƒm tra**:
> - âœ… `Prisma schema loaded from prisma/schema.prisma`
> - âœ… `Database connected successfully`
> - âœ… `Server running on port 8000`
> - âœ… `Auto-executor worker started`

---

## ğŸŒ PHáº¦N 2: Deploy Frontend lÃªn Vercel

### BÆ°á»›c 2.1: Táº¡o TÃ i Khoáº£n Vercel

1. Truy cáº­p [Vercel.com](https://vercel.com)
2. ÄÄƒng nháº­p báº±ng GitHub
3. Import repository [hackathon15-1](file:///d:/Download/hackathon15-1)

### BÆ°á»›c 2.2: Cáº¥u HÃ¬nh Environment Variables

TrÆ°á»›c khi deploy, cáº§n thÃªm biáº¿n mÃ´i trÆ°á»ng:

1. **Trong Vercel Dashboard**:
   - Project Settings â†’ **"Environment Variables"**
   - ThÃªm cÃ¡c biáº¿n sau:

```env
# Gemini API Key
VITE_GEMINI_API_KEY=your-gemini-api-key-here

# Backend API URL (tá»« Railway - BÆ°á»›c 1.5)
VITE_API_URL=https://your-backend-url.railway.app/api

# Chain Config (optional, cÃ³ thá»ƒ hardcode trong code)
VITE_CHAIN_ID=5003
VITE_MANTLE_RPC_URL=https://rpc.sepolia.mantle.xyz
```

> [!WARNING]
> - `VITE_GEMINI_API_KEY`: Láº¥y tá»« [Google AI Studio](https://aistudio.google.com/apikey)
> - `VITE_API_URL`: **PHáº¢I** lÃ  URL backend tá»« Railway (bÆ°á»›c 1.5), cÃ³ `/api` á»Ÿ cuá»‘i
> - Environment variables vá»›i prefix `VITE_` sáº½ Ä‘Æ°á»£c expose ra browser

### BÆ°á»›c 2.3: Cáº¥u HÃ¬nh Build Settings

1. **Framework Preset**: Vercel sáº½ tá»± detect **Vite**
2. **Root Directory**: [frontend](file:///d:/Download/hackathon15-1/frontend)
3. **Build Command**: 
   ```bash
   npm run build
   ```
4. **Output Directory**: `dist`
5. **Install Command**: 
   ```bash
   npm install
   ```

### BÆ°á»›c 2.4: Táº¡o File `vercel.json` (Optional)

Táº¡o file `d:\Download\hackathon15-1\frontend\vercel.json`:

```json
{
  "buildCommand": "npm run build",
  "outputDirectory": "dist",
  "devCommand": "npm run dev",
  "installCommand": "npm install",
  "framework": "vite",
  "rewrites": [
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ],
  "headers": [
    {
      "source": "/assets/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=31536000, immutable"
        }
      ]
    }
  ]
}
```

**Lá»£i Ã­ch**:
- SPA routing hoáº¡t Ä‘á»™ng Ä‘Ãºng (táº¥t cáº£ routes redirect vá» `index.html`)
- Cache static assets hiá»‡u quáº£ hÆ¡n

### BÆ°á»›c 2.5: Deploy

1. **Tá»± Ä‘á»™ng qua GitHub**:
   - Push code cÃ³ `vercel.json` lÃªn GitHub
   ```bash
   cd d:\Download\hackathon15-1
   git add frontend/vercel.json
   git commit -m "Add Vercel config"
   git push origin main
   ```
   - Vercel sáº½ tá»± Ä‘á»™ng deploy khi cÃ³ commit má»›i

2. **Thá»§ cÃ´ng qua Vercel Dashboard**:
   - VÃ o project â†’ **"Deployments"**
   - Click **"Redeploy"**

### BÆ°á»›c 2.6: Láº¥y Production URL

1. Sau khi deploy xong, Vercel sáº½ cung cáº¥p URL:
   ```
   https://your-project-name.vercel.app
   ```

2. **Cáº¥u hÃ¬nh Custom Domain** (Optional):
   - Project Settings â†’ **"Domains"**
   - Add domain cá»§a báº¡n (vd: `mantleflow.xyz`)
   - Cáº­p nháº­t DNS records theo hÆ°á»›ng dáº«n

---

## ğŸ”§ PHáº¦N 3: Cáº¥u HÃ¬nh CORS vÃ  Káº¿t Ná»‘i

### BÆ°á»›c 3.1: Cáº­p Nháº­t CORS trong Backend

Sau khi cÃ³ URL frontend tá»« Vercel, cáº§n cáº­p nháº­t CORS:

1. **Má»Ÿ file** [d:\Download\hackathon15-1\backendV3\src\index.ts](file:///d:/Download/hackathon15-1/backendV3/src/index.ts)

2. **TÃ¬m Ä‘oáº¡n config CORS** (thÆ°á»ng á»Ÿ Ä‘áº§u file):

```typescript
import cors from 'cors';

app.use(cors({
  origin: [
    'http://localhost:5173',  // Local dev
    'https://your-project-name.vercel.app',  // âš ï¸ THÃŠM URL VERCEL VÃ€O ÄÃ‚Y!
  ],
  credentials: true,
}));
```

3. **Hoáº·c cho phÃ©p táº¥t cáº£ origins** (khÃ´ng khuyáº¿n nghá»‹ cho production):

```typescript
app.use(cors({
  origin: process.env.NODE_ENV === 'production' 
    ? ['https://your-project-name.vercel.app']
    : true,
  credentials: true,
}));
```

4. **Commit vÃ  push**:
   ```bash
   git add backendV3/src/index.ts
   git commit -m "Update CORS for Vercel frontend"
   git push origin main
   ```

5. Railway sáº½ tá»± Ä‘á»™ng **re-deploy** backend

### BÆ°á»›c 3.2: Kiá»ƒm Tra Káº¿t Ná»‘i End-to-End

1. **Má»Ÿ frontend production**: `https://your-project-name.vercel.app`

2. **Check DevTools Console**:
   - Má»Ÿ F12 â†’ Tab **Console**
   - KhÃ´ng Ä‘Æ°á»£c cÃ³ lá»—i CORS hay Network errors

3. **Test Wallet Connection**:
   - Connect MetaMask
   - Kiá»ƒm tra cÃ³ táº¡o user trong database khÃ´ng

4. **Test API Calls**:
   - Navigate Ä‘áº¿n Dashboard
   - Kiá»ƒm tra market data cÃ³ load khÃ´ng
   - Táº¡o 1 trigger test

---

## ğŸ“‹ PHáº¦N 4: Checklist TrÆ°á»›c Khi Deploy

### Frontend Checklist

- [ ] **Environment Variables** Ä‘Ã£ set Ä‘áº§y Ä‘á»§ trong Vercel
  - [ ] `VITE_GEMINI_API_KEY`
  - [ ] `VITE_API_URL` (cÃ³ `/api` á»Ÿ cuá»‘i)
- [ ] **Hardcoded URLs** Ä‘Ã£ Ä‘á»•i thÃ nh env vars
- [ ] **Build thÃ nh cÃ´ng locally**:
  ```bash
  cd frontend
  npm run build
  npm run preview  # Test production build
  ```
- [ ] **Dependencies** khÃ´ng cÃ³ vulnerability nghiÃªm trá»ng:
  ```bash
  npm audit --production
  ```
- [ ] **Vercel config** (`vercel.json`) Ä‘Ã£ táº¡o
- [ ] **Git ignore** Ä‘Ã£ cÃ³ [.env](file:///d:/Download/hackathon15-1/backendV3/.env) vÃ  `dist/`

### Backend Checklist

- [ ] **Prisma schema** Ä‘Ã£ Ä‘á»•i sang `postgresql`
- [ ] **Environment Variables** Ä‘Ã£ set trong Railway:
  - [ ] `DATABASE_URL` (PostgreSQL tá»« Railway)
  - [ ] `JWT_SECRET` (sinh má»›i, khÃ´ng dÃ¹ng example!)
  - [ ] `BOT_PRIVATE_KEY` (vÃ­ má»›i, cÃ³ Ä‘á»§ MNT testnet)
  - [ ] `VAULT_ADDRESS`, `DEX_ADDRESS`, `USDT_ADDRESS`
- [ ] **Database migration** khÃ´ng cÃ³ lá»—i:
  ```bash
  # Test locally vá»›i PostgreSQL URL
  DATABASE_URL="postgresql://..." npx prisma db push
  ```
- [ ] **Build thÃ nh cÃ´ng locally**:
  ```bash
  cd backendV3
  npm run build
  node dist/index.js  # Test production build
  ```
- [ ] **CORS** Ä‘Ã£ thÃªm Vercel URL
- [ ] **Health check endpoint** cÃ³ response
- [ ] **Auto-executor worker** Ä‘Ã£ start
- [ ] **Git ignore** Ä‘Ã£ cÃ³ `.env*` vÃ  `dist/`

### Database Checklist

- [ ] **PostgreSQL** Ä‘Ã£ provision trÃªn Railway
- [ ] **Connection URL** Ä‘Ã£ test Ä‘Æ°á»£c
- [ ] **Prisma schema** compatible vá»›i PostgreSQL:
  - [ ] KhÃ´ng dÃ¹ng SQLite-specific features
  - [ ] Field types Ä‘Ãºng (Int, String, DateTime, Float)
- [ ] **Backup plan**: Download DATABASE_URL vÃ o .env local Ä‘á»ƒ cÃ³ thá»ƒ restore

### Security Checklist

- [ ] **Secrets** KHÃ”NG commit lÃªn GitHub:
  - [ ] [.env](file:///d:/Download/hackathon15-1/backendV3/.env) trong [.gitignore](file:///d:/Download/hackathon15-1/.gitignore)
  - [ ] Private keys khÃ´ng hardcode
- [ ] **JWT_SECRET** sinh má»›i cho production
- [ ] **BOT_PRIVATE_KEY** dÃ¹ng vÃ­ má»›i (KHÃ”NG DÃ™NG VÃ CHÃNH!)
- [ ] **CORS** chá»‰ allow frontend domain
- [ ] **Rate limiting** cÃ³ báº­t (náº¿u cÃ³)
- [ ] **Environment variables** Ä‘Ã£ verify trong Railway/Vercel

---

## ğŸ” PHáº¦N 5: Váº¥n Äá» ThÆ°á»ng Gáº·p vÃ  Giáº£i PhÃ¡p

### Lá»—i 1: Frontend khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c Backend

**Triá»‡u chá»©ng**: `Network Error` hoáº·c `CORS error` trong console

**Giáº£i phÃ¡p**:
1. Kiá»ƒm tra `VITE_API_URL` cÃ³ Ä‘Ãºng khÃ´ng:
   ```javascript
   console.log(import.meta.env.VITE_API_URL);
   // Should print: https://your-backend-url.railway.app/api
   ```

2. Kiá»ƒm tra CORS trong backend logs (Railway)
3. Verify backend Ä‘ang cháº¡y: `curl https://your-backend-url.railway.app/api/health`

### Lá»—i 2: Database Connection Failed

**Triá»‡u chá»©ng**: `P1001: Can't reach database server` trong Railway logs

**Giáº£i phÃ¡p**:
1. Verify `DATABASE_URL` trong Railway Variables
2. Check PostgreSQL service cÃ³ Ä‘ang cháº¡y khÃ´ng
3. Test connection tá»« local:
   ```bash
   DATABASE_URL="postgresql://..." npx prisma db push
   ```

### Lá»—i 3: Prisma Schema Mismatch

**Triá»‡u chá»©ng**: `The table `main.User` does not exist in the current database`

**Giáº£i phÃ¡p**:
1. Cháº¯c cháº¯n Ä‘Ã£ cháº¡y `prisma db push` trong start command:
   ```json
   "start": "npx prisma db push --accept-data-loss && npm start"
   ```

2. Hoáº·c cháº¡y manual migration:
   ```bash
   # Trong Railway service
   railway run npx prisma db push
   ```

### Lá»—i 4: Auto-Executor KhÃ´ng Cháº¡y

**Triá»‡u chá»©ng**: Triggers khÃ´ng tá»± Ä‘á»™ng execute dÃ¹ Ä‘Ã£ thá»a Ä‘iá»u kiá»‡n

**Giáº£i phÃ¡p**:
1. Check backend logs cÃ³ dÃ²ng `Auto-executor worker started`
2. Verify `BOT_PRIVATE_KEY` cÃ³ Ä‘Ãºng khÃ´ng
3. Check bot wallet cÃ³ Ä‘á»§ MNT Ä‘á»ƒ tráº£ gas khÃ´ng
4. Xem logs cÃ³ error tá»« blockchain service khÃ´ng

### Lá»—i 5: Build Failed trÃªn Vercel

**Triá»‡u chá»©ng**: `Error: Failed to compile`

**Giáº£i phÃ¡p**:
1. Check build locally trÆ°á»›c:
   ```bash
   cd frontend
   npm run build
   ```

2. Verify `Node.js version` trong Vercel Settings:
   - Project Settings â†’ General â†’ Node.js Version: **20.x**

3. Clear build cache: Vercel Dashboard â†’ Deployments â†’ Redeploy without cache

---

## ğŸ¯ PHáº¦N 6: Workflow Deploy Cho Láº§n Sau

Sau láº§n Ä‘áº§u setup, cÃ¡c láº§n deploy sau chá»‰ cáº§n:

### Deploy Code Update

```bash
# 1. Code changes
git add .
git commit -m "feat: add new feature"
git push origin main

# 2. Auto deploy
# - Vercel tá»± Ä‘á»™ng deploy frontend
# - Railway tá»± Ä‘á»™ng deploy backend
```

### Deploy Environment Config Update

**Frontend (Vercel)**:
1. Vercel Dashboard â†’ Project â†’ Settings â†’ Environment Variables
2. Update/Add biáº¿n
3. Redeploy

**Backend (Railway)**:
1. Railway Dashboard â†’ Service â†’ Variables
2. Update biáº¿n
3. Service tá»± Ä‘á»™ng restart

### Rollback vá» Version CÅ©

**Vercel**:
- Deployments â†’ Chá»n deployment cÅ© â†’ **"Promote to Production"**

**Railway**:
- Deployments â†’ Chá»n deployment cÅ© â†’ **"Rollback"**

---

## ğŸ“Š PHáº¦N 7: Monitoring vÃ  Maintenance

### Logs Monitoring

**Railway Backend Logs**:
- Dashboard â†’ Service â†’ Deployments â†’ Click deployment â†’ View logs
- Theo dÃµi:
  - HTTP request logs
  - Auto-executor iterations
  - Database errors

**Vercel Frontend Logs**:
- Dashboard â†’ Project â†’ Deployments â†’ Functions logs (náº¿u dÃ¹ng)
- Chá»§ yáº¿u check build logs

### Database Management

1. **Prisma Studio** (chá»‰ local access):
   ```bash
   # Connect to Railway database from local
   DATABASE_URL="postgresql://..." npx prisma studio
   ```

2. **Railway Database Tab**:
   - Dashboard â†’ PostgreSQL service â†’ Data
   - CÃ³ GUI Ä‘á»ƒ query trá»±c tiáº¿p

### Performance Monitoring

**Frontend**:
- Vercel Analytics (free tier cÃ³ sáºµn)
- Web Vitals metrics

**Backend**:
- Railway Metrics tab: CPU, Memory, Network usage

---

## ğŸ‰ Tá»•ng Káº¿t

Sau khi hoÃ n thÃ nh táº¥t cáº£ cÃ¡c bÆ°á»›c trÃªn, báº¡n sáº½ cÃ³:

âœ… **Frontend** deploy trÃªn Vercel vá»›i URL `https://your-project.vercel.app`  
âœ… **Backend** deploy trÃªn Railway vá»›i URL `https://backendv3-xxxx.up.railway.app`  
âœ… **Database** PostgreSQL managed bá»Ÿi Railway  
âœ… **Auto-deployment** má»—i khi push code lÃªn GitHub  
âœ… **Environment variables** quáº£n lÃ½ centralized  
âœ… **CORS** configured Ä‘Ãºng  
âœ… **Monitoring tools** ready  

### Next Steps Sau Deploy

1. **Test toÃ n bá»™ features** trÃªn production
2. **Monitor logs** trong 24h Ä‘áº§u
3. **Setup custom domain** (optional)
4. **Enable analytics** (Vercel Analytics, Railway Metrics)
5. **Backup DATABASE_URL** Ä‘á»ƒ cÃ³ thá»ƒ restore

---

## ğŸ“ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á»:
1. Check logs trÃªn Railway/Vercel trÆ°á»›c
2. Verify environment variables
3. Test API endpoints báº±ng `curl`
4. Check database connection

**ChÃºc báº¡n deploy thÃ nh cÃ´ng! ğŸš€**
